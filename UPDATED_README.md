
# CRUD API для управления сущностями

## Описание
Этот проект представляет собой RESTful и gRPC API для управления сущностями, такими как пользователи и товары, с использованием PostgreSQL для хранения данных и Redis для кеширования.

## Технологии
- **ЯП**: Go
- **База данных**: PostgreSQL
- **Кеширование**: Redis, inmem
- **API**: 
  - HTTP (RESTful)
  - gRPC

## Сущности

### User
- **ID**: Primary Key
- **Name**: string
- **Email**: string
- **CreatedAt**: timestamp
- **UpdatedAt**: timestamp

### Product
- **ID**: Primary Key
- **Name**: string
- **Description**: string
- **Price**: float
- **UserID**: Foreign Key
- **CreatedAt**: timestamp
- **UpdatedAt**: timestamp

## CRUD операции

### Пользователь (User)
- **Создание**: POST `/api/v1/users`
- **Чтение**: GET `/api/v1/users/{id}`
- **Обновление**: PUT `/api/v1/users/{id}`
- **Удаление**: DELETE `/api/v1/users/{id}`
- **Получение списка**: GET `/api/v1/users`

### Продукт (Product)
- **Создание**: POST `/api/v1/products`
- **Чтение**: GET `/api/v1/products/{id}`
- **Обновление**: PUT `/api/v1/products/{id}`
- **Удаление**: DELETE `/api/v1/products/{id}`
- **Получение списка**: GET `/api/v1/products`

### Сложные запросы
- Получение всех продуктов определённого пользователя: 
  - HTTP: GET `/api/v1/users/{id}/products`

## Кеширование
- Использование Redis для кеширования ответов на запросы.
- Инвалидация кеша при добавлении, обновлении или удалении сущностей.
- Также должна быть реализация inmem кэша, и в конфиге добавить возможность добавления выбора какой из реализации будет использоваться

## Тестирование
- 100% покрытие юнит-тестами бизнес логики.
- Интеграционные тесты.

## Инфраструктура
- **Makefile**: добавление Makefile для автоматизации сборки, тестирования и запуска приложения.
- **Goose**: использование Goose для управления миграциями базы данных.
- **Docker**: создание Dockerfile для контейнеризации приложения.
- **Docker Compose**: поднятие инфраструктуры с помощью docker-compose, включая PostgreSQL, Redis и приложение.
- **Запуск**:
  - RESTful HTTP API на порту 8080.
  - gRPC API на порту 50051.

1. Каждый коммит сопровождается кратким описанием внесенных изменений
2. Каждый коммит фокусируется на строго ограниченном участке функционала
3. Разработка должна вестить в `dev` ветке
4. Мёрджи в main/master должны быть через аппрув ментора 

## Документация
- Swagger/OpenAPI для REST API и gRPC.
